#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Генератор мемных фраз "Мемератор 3000"
(c) 2025, Киберпанк Лаборатория

Для всех, кто после 30, но душой всё ещё в мемах.
"""

import random
import argparse
import sys
from datetime import datetime


class MemeGenerator:
    """
    Класс для генерации мемных фраз в стиле киберпанка.
    """
    
    def __init__(self):
        # База данных мемных фраз
        self.memes = [
            "Я не стар, я ретро-модель с киберпанковым шармом",
            "Когда тебе за 30, но ты всё ещё в тренде как нулевой байт",
            "У меня не возрастное выгорание, у меня низкий заряд кибер-энтузиазма",
            "После 30 я не торможу, я перехожу в энергосберегающий режим",
            "Я не пожилой, я раритетная версия с улучшенным ИИ",
            "Когда тебе за 30, но ты всё ещё можешь генерировать биткоины в уме",
            "Мои мемы не стареют, они только набирают винтаж",
            "После 30 я не устаю, я просто кэширую силы",
            "Я не торможу, я просто в режиме энергосбережения как старый процессор",
            "У меня не возраст, у меня версия с багами, но с патчами",
            "Когда тебе за 30, но ты всё ещё можешь сломать интернет",
            "Я не стар, я просто в оффлайне дольше, чем онлайн",
            "После 30 я не выключаюсь, я просто в спящем режиме до следующего вызова",
            "Мои мемы - это классика, как старый добрый HTML",
            "Я не пожилой, я просто с ностальгией смотрю на эпоху мемов 2010-х",
            "Когда тебе за 30, но ты всё ещё можешь разогнать процессор юмора",
            "У меня не возрастное кризис, у меня обновление системы",
            "Я не торможу, я просто в режиме дебага жизни",
            "После 30 я не сдаюсь, я просто перезагружаюсь",
            "Мои мемы - это как винтажный код, но всё ещё работает",
            "Я не стар, я просто в режиме энергосбережения от реальности",
            "Когда тебе за 30, но ты всё ещё можешь сгенерировать квантовый юмор",
            "У меня не возраст, у меня накопленный опыт в мем-архиве",
            "Я не выключаюсь, я просто в режиме профилактики",
            "После 30 я не теряю нить разговора, я просто теряю Wi-Fi",
            "Мои мемы - это как старый добрый CSS - не модно, но работает",
            "Я не пожилой, я просто в режиме ожидания обновления от Вселенной",
            "Когда тебе за 30, но ты всё ещё можешь взломать систему юмора",
            "У меня не возрастное бешенство, у меня накопленный кэш сарказма",
            "Я не торможу, я просто в режиме суперпозиции - и да, и нет, и мем",
            "После 30 я не теряю память, я просто временно не загружаю ненужные файлы",
            "Мои мемы - это как старый добрый JavaScript - с багами, но с душой",
            "Я не стар, я просто в режиме энергосбережения от социальных сетей",
            "Когда тебе за 30, но ты всё ещё можешь создать мем-вирус",
            "У меня не возраст, у меня коллекция винтажных шуток",
            "Я не выключаюсь, я просто в режиме резервного копирования юмора",
            "После 30 я не теряю нить, я просто перезапускаю систему восприятия",
            "Мои мемы - это как старый добрый Python - простой, но мощный",
            "Я не пожилой, я просто в режиме ожидания следующего патча жизни",
            "Когда тебе за 30, но ты всё ещё можешь сгенерировать нейросеть юмора",
            "У меня не возрастное уныние, у меня накопленный кэш иронии",
            "Я не торможу, я просто в режиме глубокой фильтрации мемов",
            "После 30 я не сдаюсь, я просто переключаюсь на ночной режим жизни",
            "Мои мемы - это как старый добрый PHP - не модно, но всё ещё живо"
        ]
        
        # Киберпанковые префиксы
        self.cyber_prefixes = [
            "[КОД:01]",
            "[НЕЙРО:42]",
            "[МЕМ:3000]",
            "[БАЙТ:13]",
            "[ХАК:777]",
            "[ВИНТ:99]",
            "[БУФЕР:64]",
            "[ПАТЧ:08]",
            "[СЕТЕВОЙ:21]",
            "[РЕЗЕРВ:55]"
        ]
    
    def generate_meme(self):
        """
        Генерирует случайную мемную фразу.
        """
        prefix = random.choice(self.cyber_prefixes)
        meme = random.choice(self.memes)
        timestamp = datetime.now().strftime("%H:%M:%S")
        
        return f"{prefix} [{timestamp}] {meme}"
    
    def generate_batch(self, count=5):
        """
        Генерирует несколько мемных фраз.
        
        Args:
            count (int): Количество фраз для генерации
        """
        memes = []
        for _ in range(count):
            memes.append(self.generate_meme())
        return "\n".join(memes)


def main():
    parser = argparse.ArgumentParser(
        description="Генератор мемных фраз 'Мемератор 3000' (Киберпанк Edition)",
        formatter_class=argparse.RawDescriptionHelpFormatter,
        epilog="""
Примеры использования:
 python memerator.py                    # Сгенерировать одну фразу
  python memerator.py -n 3              # Сгенерировать 3 фразы
  python memerator.py --batch 5         # Сгенерировать 5 фраз
  python memerator.py --help            # Показать помощь
        """
    )
    
    parser.add_argument(
        '-n', '--number',
        type=int,
        default=1,
        help='Количество мемных фраз для генерации (по умолчанию: 1)'
    )
    
    parser.add_argument(
        '--batch',
        type=int,
        help='Альтернатива для -n, количество фраз для генерации'
    )
    
    parser.add_argument(
        '--list',
        action='store_true',
        help='Показать все доступные мемы'
    )
    
    args = parser.parse_args()
    
    generator = MemeGenerator()
    
    if args.list:
        print("Доступные мемы:")
        for i, meme in enumerate(generator.memes, 1):
            print(f"{i:2d}. {meme}")
        return
    
    count = args.batch if args.batch is not None else args.number
    
    if count <= 0:
        print("Количество фраз должно быть положительным числом.")
        sys.exit(1)
    
    if count > 100:
        print("Слишком много фраз! Максимум - 100 за раз, чтобы не перегрузить систему.")
        sys.exit(1)
    
    if count == 1:
        print(generator.generate_meme())
    else:
        print(generator.generate_batch(count))


if __name__ == "__main__":
    main()
